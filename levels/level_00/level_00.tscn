[gd_scene load_steps=13 format=3 uid="uid://cbjx4qeaf824d"]

[ext_resource type="Script" path="res://levels/src/level.gd" id="1_3vs0d"]
[ext_resource type="Resource" uid="uid://byt4l7w33y588" path="res://levels/level_00/level_00.tres" id="2_sxx6m"]
[ext_resource type="Script" path="res://levels/src/level_generator.gd" id="4_7aqnq"]
[ext_resource type="Material" uid="uid://d4fok1o40mu5r" path="res://levels/blanks_mat.tres" id="5_f0kor"]
[ext_resource type="PackedScene" uid="uid://bb16gv65b0el7" path="res://utils/pause.tscn" id="7_i4vvw"]
[ext_resource type="PackedScene" uid="uid://dsk5r3lka7jsh" path="res://player/player.tscn" id="7_si85d"]
[ext_resource type="PackedScene" uid="uid://crq8d388gq7ml" path="res://utils/restart.tscn" id="9_n53j1"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_iqygv"]
sky_top_color = Color(0.388235, 0.529412, 0.690196, 1)
sky_horizon_color = Color(0.584314, 0.568627, 0.545098, 1)
sky_curve = 0.0750002
sky_energy_multiplier = 1.3
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_curve = 0.03249
ground_energy_multiplier = 0.8

[sub_resource type="Sky" id="Sky_7xxvs"]
sky_material = SubResource("ProceduralSkyMaterial_iqygv")

[sub_resource type="Environment" id="Environment_k0rdy"]
background_mode = 2
sky = SubResource("Sky_7xxvs")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7gwye"]
shading_mode = 0
diffuse_mode = 3
specular_mode = 2
albedo_color = Color(0.945098, 0.941176, 0.894118, 1)

[sub_resource type="Curve3D" id="Curve3D_kxx46"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -1, 0, 0, 0, 0, 0, 0, 0, 0, -2, 0, 0, 0, 0, 0, 0, 0, 0, -7, 0, 0, 0, 0, 0, 0, 0, 0, -22, 0, 0, 0, 0, 0, 0, 0, 0, -25, 0, 0, 0, 0, 0, 0, 0, 0, -34, 0, 0, 0, 0, 0, 0, -1.18915, -0.425686, -41.7024, 0, 0, 0, 0, 0, 0, -1.57265, -1.19016, -52.1318, 0, 0, 0, 0, 0, 0, -2.01243, -2.06682, -64.0917, 0, 0, 0, 0, 0, 0, -2.23233, -2.50515, -70.0716, 0, 0, 0, 0, 0, 0, -2.67211, -3.38181, -82.0314, 0, 0, 0, 0, 0, 0, -3.31191, -4.64218, -93.6425, 0, 0, 0, 0, 0, 0, -2.8423, -5.67404, -107.974, 0, 0, 0, 0, 0, 0, -2.64631, -6.1047, -113.955, 0, 0, 0, 0, 0, 0, -2.59731, -6.21237, -115.45, 0, 0, 0, 0, 0, 0, -2.10731, -7.28903, -130.403, 0, 0, 0, 0, 0, 0, -1.88685, -6.80013, -139.251, 0, 0, 0, 0, 0, 0, -2.93379, -6.6182, -146.259, 0, 0, 0, 0, 0, 0, -5.14943, -6.2332, -161.089, 0, 0, 0, 0, 0, 0, -5.59255, -6.1562, -164.055, 0, 0, 0, 0, 0, 0, -6.92193, -5.92519, -172.954, 0, 0, 0, 0, 0, 0, -5.8144, -6.42608, -186.925, 0, 0, 0, 0, 0, 0, -5.19902, -5.92854, -199.431, 0, 0, 0, 0, 0, 0, -4.75707, -5.57121, -208.413, 0, 0, 0, 0, 0, 0, -4.46244, -5.333, -214.401, 0, 0, 0, 0, 0, 0, -3.87317, -4.85657, -226.377, 0, 0, 0, 0, 0, 0, -3.32048, -5.58955, -236.567, 0, 0, 0, 0, 0, 0, -4.13585, -6.6801, -251.241, 0, 0, 0, 0, 0, 0, -4.46783, -7.12413, -257.215, 0, 0, 0, 0, 0, 0, -4.79982, -7.56815, -263.189, 0, 0, 0, 0, 0, 0, -5.29779, -8.2342, -272.151, 0, 0, 0, 0, 0, 0, -4.03378, -9.68441, -286.414, 0, 0, 0, 0, 0, 0, -5.44202, -10.2355, -301.205, 0, 0, 0, 0, 0, 0, -5.82087, -10.3837, -305.185, 0, 0, 0, 0, 0, 0, -5.91558, -10.4208, -306.179),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 36

[node name="Level00_A" type="Node3D" node_paths=PackedStringArray("level_generator")]
script = ExtResource("1_3vs0d")
level_resource = ExtResource("2_sxx6m")
level_generator = NodePath("LevelGenerator")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_k0rdy")

[node name="Floor" type="CSGPolygon3D" parent="."]
use_collision = true
polygon = PackedVector2Array(-15, -1, -15, 0, 15, 0, 15, -1)
mode = 2
path_node = NodePath("../LevelGenerator")
path_interval_type = 1
path_interval = 1.26
path_simplify_angle = 0.0
path_rotation = 1
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_7gwye")

[node name="WallRight" type="CSGPolygon3D" parent="."]
visible = false
material_override = ExtResource("5_f0kor")
use_collision = true
polygon = PackedVector2Array(13, 10, 15, 10, 15, 0, 13, 0)
mode = 2
path_node = NodePath("../LevelGenerator")
path_interval_type = 1
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 1
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = ExtResource("5_f0kor")

[node name="WallLeft" type="CSGPolygon3D" parent="."]
visible = false
material_override = ExtResource("5_f0kor")
use_collision = true
polygon = PackedVector2Array(-15, 10, -13, 10, -13, 0, -15, 0)
mode = 2
path_node = NodePath("../LevelGenerator")
path_interval_type = 1
path_interval = 1.0
path_simplify_angle = 0.1
path_rotation = 0
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("5_f0kor")

[node name="LevelGenerator" type="Path3D" parent="." node_paths=PackedStringArray("level")]
curve = SubResource("Curve3D_kxx46")
script = ExtResource("4_7aqnq")
level = NodePath("..")

[node name="Player" parent="." node_paths=PackedStringArray("path") instance=ExtResource("7_si85d")]
path = NodePath("../LevelGenerator")

[node name="Restart" parent="." node_paths=PackedStringArray("player", "level_generator") instance=ExtResource("9_n53j1")]
player = NodePath("../Player")
level_generator = NodePath("../LevelGenerator")

[node name="Pause" parent="." instance=ExtResource("7_i4vvw")]

[connection signal="visibility_changed" from="LevelGenerator" to="LevelGenerator" method="_on_visibility_changed"]
[connection signal="child_entered_tree" from="LevelGenerator/PoolBlockTemplate" to="LevelGenerator/PoolBlockTemplate" method="_on_child_entered_tree"]
