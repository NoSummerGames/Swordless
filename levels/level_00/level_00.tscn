[gd_scene load_steps=13 format=3 uid="uid://cbjx4qeaf824d"]

[ext_resource type="Script" path="res://levels/src/level.gd" id="1_3vs0d"]
[ext_resource type="Resource" uid="uid://byt4l7w33y588" path="res://levels/level_00/level_00.tres" id="2_sxx6m"]
[ext_resource type="Script" path="res://levels/src/level_generator.gd" id="4_7aqnq"]
[ext_resource type="Material" uid="uid://d4fok1o40mu5r" path="res://levels/blanks_mat.tres" id="5_f0kor"]
[ext_resource type="PackedScene" uid="uid://bb16gv65b0el7" path="res://utils/pause.tscn" id="7_i4vvw"]
[ext_resource type="PackedScene" uid="uid://dsk5r3lka7jsh" path="res://player/player.tscn" id="7_si85d"]
[ext_resource type="PackedScene" uid="uid://crq8d388gq7ml" path="res://utils/restart.tscn" id="9_n53j1"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_iqygv"]
sky_top_color = Color(0.388235, 0.529412, 0.690196, 1)
sky_horizon_color = Color(0.584314, 0.568627, 0.545098, 1)
sky_curve = 0.0750002
sky_energy_multiplier = 1.3
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_curve = 0.03249
ground_energy_multiplier = 0.8

[sub_resource type="Sky" id="Sky_7xxvs"]
sky_material = SubResource("ProceduralSkyMaterial_iqygv")

[sub_resource type="Environment" id="Environment_k0rdy"]
background_mode = 2
sky = SubResource("Sky_7xxvs")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7gwye"]
shading_mode = 0
diffuse_mode = 3
specular_mode = 2
albedo_color = Color(0.945098, 0.941176, 0.894118, 1)

[sub_resource type="Curve3D" id="Curve3D_3f5o4"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, -1, 0, 0, -1, 0, 0, 1, 0, 0, -1, 0, 0, -2, 0, 0, 1, 0, 0, -1, 0, 0, -7, 0, 0, 1, 0, 0, -1, 0, 0, -13, 0, 0, 1, 0, 0, -1, 0, 0, -19, -0.0483625, 0.0230825, 0.998563, 0.0483625, -0.0230825, -0.998563, 0, 0, -31, -0.0719485, 0.0664634, 0.995191, 0.0719485, -0.0664634, -0.995191, 1.13974, -0.543978, -42.7325, -0.0472376, 0.0867603, 0.995109, 0.0472376, -0.0867603, -0.995109, 1.78981, -1.73794, -56.4269, -0.0472376, 0.0867603, 0.995109, 0.0472376, -0.0867603, -0.995109, 2.49837, -3.03935, -71.3535, -0.0472376, 0.0867603, 0.995109, 0.0472376, -0.0867603, -0.995109, 2.7818, -3.55991, -77.3241, 0.00482887, 0.0898964, 0.995939, -0.00482887, -0.0898964, -0.995939, 3.34865, -4.60103, -89.2654, -0.0216555, 0.0843534, 0.996201, 0.0216555, -0.0843534, -0.996201, 2.73876, -5.5959, -99.9238, -0.100058, 0.0753922, 0.992121, 0.100058, -0.0753922, -0.992121, 3.94819, -6.50719, -111.916, -0.100058, 0.0753921, 0.992121, 0.100058, -0.0753921, -0.992121, 4.84871, -7.18572, -120.845, -0.100058, 0.0753921, 0.992121, 0.100058, -0.0753921, -0.992121, 4.9988, -7.2988, -122.333, -0.0481071, 0.0833268, 0.99536, 0.0481071, -0.0833268, -0.99536, 5.89932, -7.97733, -131.262, -0.0630495, 0.025752, 0.997678, 0.0630495, -0.025752, -0.997678, 5.86329, -8.80184, -140.282, -0.129524, -0.0397519, 0.990779, 0.129524, 0.0397519, -0.990779, 7.21601, -8.38668, -150.629, -0.129524, -0.0397519, 0.990779, 0.129524, 0.0397519, -0.990779, 8.7703, -7.90965, -162.519, -0.129524, -0.0397519, 0.990779, 0.129524, 0.0397519, -0.990779, 9.15887, -7.7904, -165.491, 0.00267174, 0.032911, 0.999455, -0.00267174, -0.032911, -0.999455, 9.93602, -7.55189, -171.436, 0.100394, 0.122873, 0.987331, -0.100394, -0.122873, -0.987331, 8.74751, -8.47604, -180.123, 0.065829, 0.140738, 0.987856, -0.065829, -0.140738, -0.987856, 8.31434, -9.40214, -186.623, 0.065829, 0.140738, 0.987856, -0.065829, -0.140738, -0.987856, 7.3269, -11.5132, -201.441, 0.0658289, 0.140738, 0.987856, -0.0658289, -0.140738, -0.987856, 6.93193, -12.3576, -207.368, 0.015092, 0.105934, 0.994259, -0.015092, -0.105934, -0.994259, 5.94449, -14.4687, -222.186, 0.0711761, -0.0139386, 0.997366, -0.0711761, 0.0139386, -0.997366, 6.28396, -15.1412, -231.664, 0.176731, -0.0983432, 0.979334, -0.176731, 0.0983432, -0.979334, 5.08597, -14.4745, -238.302, 0.169962, 0.289971, 0.941822, -0.169962, -0.289971, -0.941822, 3.49539, -13.5894, -247.116, 0.169962, 0.289971, 0.941822, -0.169962, -0.289971, -0.941822, 2.33021, -18.9703, -253.573, 0.176732, -0.0983432, 0.979334, -0.176732, 0.0983432, -0.979334, 0.739626, -18.0852, -262.387, 0.161165, -0.016001, 0.986798, -0.161165, 0.016001, -0.986798, -1.38115, -16.9051, -274.139, 0.054207, 0.0183372, 0.998361, -0.054207, -0.0183372, -0.998361, -2.38186, -17.3654, -280.978, -0.0366175, -0.029974, 0.99888, 0.0366175, 0.029974, -0.99888, -2.08045, -17.1187, -289.2, 0, 0, 0, 0, 0, 0, -1.93398, -16.9988, -293.196, 0, 0, 0, 0, 0, 0, -1.89736, -16.9688, -294.195),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 37

[node name="Level00_A" type="Node3D"]
script = ExtResource("1_3vs0d")
level_resource = ExtResource("2_sxx6m")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_k0rdy")

[node name="Floor" type="CSGPolygon3D" parent="."]
use_collision = true
polygon = PackedVector2Array(-15, -1, -15, 0, 15, 0, 15, -1)
mode = 2
path_node = NodePath("../LevelGenerator")
path_interval_type = 1
path_interval = 1.26
path_simplify_angle = 0.0
path_rotation = 1
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_7gwye")

[node name="WallRight" type="CSGPolygon3D" parent="."]
visible = false
material_override = ExtResource("5_f0kor")
use_collision = true
polygon = PackedVector2Array(13, 10, 15, 10, 15, 0, 13, 0)
mode = 2
path_node = NodePath("../LevelGenerator")
path_interval_type = 1
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 1
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = ExtResource("5_f0kor")

[node name="WallLeft" type="CSGPolygon3D" parent="."]
visible = false
material_override = ExtResource("5_f0kor")
use_collision = true
polygon = PackedVector2Array(-15, 10, -13, 10, -13, 0, -15, 0)
mode = 2
path_node = NodePath("../LevelGenerator")
path_interval_type = 1
path_interval = 1.0
path_simplify_angle = 0.1
path_rotation = 0
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("5_f0kor")

[node name="LevelGenerator" type="Path3D" parent="." node_paths=PackedStringArray("level")]
curve = SubResource("Curve3D_3f5o4")
script = ExtResource("4_7aqnq")
level = NodePath("..")

[node name="Player" parent="." node_paths=PackedStringArray("path") instance=ExtResource("7_si85d")]
path = NodePath("../LevelGenerator")

[node name="Restart" parent="." node_paths=PackedStringArray("player", "level_generator") instance=ExtResource("9_n53j1")]
player = NodePath("../Player")
level_generator = NodePath("../LevelGenerator")

[node name="Pause" parent="." instance=ExtResource("7_i4vvw")]

[connection signal="visibility_changed" from="LevelGenerator" to="LevelGenerator" method="_on_visibility_changed"]
[connection signal="child_entered_tree" from="LevelGenerator/PoolBlockTemplate" to="LevelGenerator/PoolBlockTemplate" method="_on_child_entered_tree"]
